### 2017/05/10

휴가가기 직전에 하던 일은 QA에 대한 질문을 보내놨는데 아직 답이 없어서 덮어두고, 다른 일을 찾아보았다. 이슈가 몇 가지 있었는데, UI 바꾸는 일을 하기로 했다. 간단한 검색조건으로 목록을 조회하는 화면인데, HTML 구조를 담당자가 해놓은 것으로 교체하였다. 스타일이 몇 군데 깨져서, 이것저것 하다가... 꽤 많이 바꾸었다. 존재하지 않는 CLASS가 상당수 보인다. CSS를 다른 걸 쓰고 있는데 왜 이렇게 했을까. 다음 문제는 select box가 요상하게 동작한다. 동작하긴 하는데 timeout이 걸려 있는 것처럼 보인다. 에러도 하나 튀어 나오는데, angular github issue에도 동일한 증상을 가진 사람이 있어 보인다. 요 근래에 생긴 이슈일까. 

메시지는 다음과 같다.
```Error: [ui.select:choices] Expected multiple .ui-select-choices-row but got '0'.```

어쨌든 이 문제도 덮어두고 다음 작업을 해야한다. 목록에 페이징을 추가해야한다. (기존 기능대로 페이징을 안 넣었더니..) 다행히 애노테이션과, 2가지 옵션 추가로 쉽게 해결하였다. 결과도 잘 노출된다. 
// 15:41

첫 번째 작업을 마무리하고, 첫 번째와 비슷한 화면에 똑같은 작업을 반복한다. 2가지 화면의 jsp를 수정하다 보니 jsp 자체에 중복된 부분이 많이 있다. 다른 파일로 분리하면 좋을 것 같지만, 이미 작업이 되어 있고, 2개에서 변동이 없어서 이렇게 작업했던 것 같다. 하나를 끝내고, 잠시 쉰다. 나머지 다른 하나를 시작하기 위한 일종의 준비 작업인데, 좀 많이 쉬었다. 퇴근 전까지 끝내기에는 시간이 조금 모자랐다. 이 작업에는 추가작업이 있는데, 목록에 포함되는 컬럼 중에 추가 쿼리가 필요한 데이터가 있다. 요놈과 새로 추가된 데이터의 맵핑까지 하면 된다. 이건 내일 하자

### 2017/05/11

오늘은 어제 하던 화면을 마무리하고, 다른 화면도 작업하기로 하였다. (이전에 요청 받은 작업은 다음 주에 하기로) 페이징을 추가하면서 몇 가지 문제가 생겼는데, UI에서 파라미터를 잘못 보내고 있었다. 이 부분 수정하고.. 그런데 화면에 보여지는 데이터와 엑셀로 받은 데이터 개수에 차이가 있었다. 한참을 보다보니, UI에 뿌려지는 count 값이 잘못된 것으로 보였다. BO에서 count와 list를 2가지 쿼리로 나눠서 처리하고 있었는데, count 쿼리가 예상대로 동작하지 않고 있었다. 이게 뭔가.. 로그에 찍힌 JPQL도 정상이고, 제대로 나와야 하는데.. 쿼리브라우저에서 테스트해보니 right outer join이 아니라 left outer join과 결과값이 동일했다(?!). 이건 무슨일인가. 아 아직 처리해야 할 일이 있고, 다음 작업도 시작해야 하는데..
//16:30

### 2017/05/12

하루 중 제일 빡칠 때 일기를 쓰면 좋은 것 같다. 오늘은 어제 하던 화면에 몇 달전 준비 중이었다가 개발완료된 로직을 붙여보았다. (이걸 염두에 두고 코드를 짜놔서, 금방 끝나는 작업이었음) 하지만, 이걸 보시던 담당자분이 몇 가지 일을 더 주셨다^^ 1시간도 안 걸려서 추가 기능까지 완료를 하긴 했는데, 그 사이에 예전에 만들었던 화면의 기능이 안 된다며, 문의가 들어왔다. 슥 보니, 자세히 확인해야 원인을 알 것 같다. 음.. 예전 코드를 보니 만들 때도 복잡했더니 오랜만에 보니 더 복잡하다. 코드나 주석을 조금 손봐야할 것 같다. URL 파라미터로 보낸 코드를 화면의 select box 값으로 만들고, 그에 연결된 select box 목록을 또 로드하고.. 비즈니스 로직도 이래저래 복잡한 기능이다. 30분정도를 코드를 따라가다 원인을 발견하였는데, 예전에도 안 되었어야 하는 코드인데.. 테스트를 했는지 기억이 희미하다. 그리고 다시 원래 보던 코드로 돌아왔는데, 어제와 비슷한 상태다.. 잘 동작해야 하는데 왜 안 되는지 파악이 잘 안된다. 집중력이 많이 떨어진 것 같다. 정말 한참을 본 후에야 문제가 눈에 들어온다. queryDsl builder에서 사용해야할 컬럼이 잘못 되었다. 이걸 못 보다니.. 문제는 내 코드에 있으니 더 자세히 봐야 하는데 실수 했다. 아.. 내 시간.. // 17:12

### 2017/05/15

CI 검색화면에서 일부 조건 하나가 검색이 되지 않는다는 제보가 들어왔다. 진짜 안 된다. 조금 생각하다가 데이터를 까보았더니 코드가 아니라 Enum name이 값으로 들어가 있다! 이게 정상인가.. API를 가보니 code로 보낼 경우 toString을 구현해야 하는데 역시나 없다. 진짜 그 이유 인지 조금 더 자세히 코드를 살펴봤다. 맞다. 확인해야할 것은 현재 사용하는 부분에서 Enum name으로 처리하는 것으로 코드가 짜여져 있는지 즉 지금 코드가 이상 없다는 사실이다. 일단은 정보를 수정하는 부분과 내 화면에서 이 데이터를 사용하는 것 같다. 확실히 사실을 알 수 있었던 코드는 DTO에서 해당 데이터를 받는 변수가 Enum이었다는 것이다. code라면 String이었을텐데 변수 타입이 Enum이라면 Enum name을 받아 변환해서 사용할 것이다. 일단 API를 수정해보려 했는데, 깔끔하게 고치는 것이 쉽지 않아 보인다. 5분정보 보다가 내 코드를 고치는 것이 더 쉽고 괜찮아 보인다! 단 2줄 수정으로 버그가 해결되었다. 이 이야기를 자세히 쓰는 것은 이런 일련의 사고 과정과 수정이 1시간이 걸렸기 때문이다. 생각보다 많은 시간이 걸렸다. 30분 내로 해결해야 할 것 같은데.. 물론 중간에 주간보고도 작성하긴 했지만 말이다.
//11:34
